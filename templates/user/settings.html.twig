{% extends 'base.html.twig' %}

{% block title %}User Profile {% endblock %}

{% block content %}
    <div class="container-xxl flex-grow-1 container-p-y">

        <div class="row mt-4">
            <!-- Navigation -->
            <div class="col-lg-3 col-md-4 col-12 mb-md-0 mb-3">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between flex-column mb-2 mb-md-0">
                            <ul class="nav nav-align-left nav-pills flex-column" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link mb-2 active" data-bs-toggle="tab" data-bs-target="#overview" aria-selected="true" role="tab">
                                        <span class="text-start">Overview</span>
                                    </button>
                                </li>
                                <li class="nav-item mb-2" role="presentation">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#signinMethod" aria-selected="false" tabindex="-1" role="tab">
                                        <span class="align-middle">Sign-in Method</span>
                                    </button>
                                </li>
                                <li class="nav-item mb-2" role="presentation">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profileDetails" aria-selected="false" tabindex="-1" role="tab">
                                        <span class="align-middle">Profile Details</span>
                                    </button>
                                </li>
                                <li class="nav-item mb-2" role="presentation">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#connectedAccounts" aria-selected="false" tabindex="-1" role="tab">
                                        <span class="align-middle">Connected Accounts</span>
                                    </button>
                                </li>
                                <li class="nav-item mb-2" role="presentation">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#notifications" aria-selected="false" tabindex="-1" role="tab">
                                        <span class="align-middle">Notifications</span>
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /Navigation -->

            <!-- FAQ's -->
            <div class="col-lg-9 col-md-8 col-12">
                <div class="tab-content py-0">
                    <div class="tab-pane fade show active" id="overview" role="tabpanel">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Overview</h4>
                                <hr>
                                <div class="d-flex align-items-start justify-content-between flex-wrap">
                                    <div class="d-flex flex-wrap gap-3">
                                        <div>
                                            <img src="{{ vich_uploader_asset(app.user) }}"
                                                 class="user-avatar rounded" alt="user picture">
                                        </div>
                                        <div class="d-flex flex-column">
                                            <h4 class="mb-2">{{ app.user.firstName }} {{ app.user.lastName }}</h4>
                                            <a href="#" class="text-muted mb-3">{{ app.user.email }}</a>
                                            <div>
                                                <span class="badge bg-label-success fw-semibold">Member</span>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="#" class="btn btn-label-primary">Courses (3)</a>
                                </div>
                                <div class="row mt-4">
                                    <div class="col-lg-5">
                                        <p class="text-capitalize mb-1"><strong>$22.76</strong> per month</p>
                                        <p class="text-capitalize">joined date December, 22th 2023</p>
                                    </div>
                                    <div class="col-lg-7">
                                        <p class="fw-semibold mb-1">Users</p>
                                        <div class="progress ">
                                            <div class="progress-bar" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">75%</div>
                                        </div>
                                        <span class="text-muted fs-tiny">14 Users remaining until your plan requires update</span>
                                    </div>
                                </div>
                                <div class="alert alert-warning d-flex mt-4" role="alert">
                                    <span class="me-2">
                                        <i class='bx bxs-error-circle fs-1'></i>
                                    </span>
                                    <div class="d-flex flex-column ps-1 text-black">
                                        <h5 class="alert-heading d-flex align-items-center fw-bold mb-1">We need your attention!</h5>
                                        <span class="text-secondary">
                                            Your payment was declined. To start using tools, please
                                            <a href="#">Add Payment Method</a>.
                                    </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="signinMethod" role="tabpanel">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Sign-in Method</h4>
                                <hr>
                                <div class="d-flex align-items-center justify-content-between" id="emailInfo">
                                    <div>
                                        <h6 class="mb-1 fw-semibold">Email Address</h6>
                                        <p class="text-muted">{{ app.user.email }}</p>
                                    </div>
                                    <div>
                                        <button class="btn btn-label-secondary" id="changeEmailBtn">Change Email</button>
                                    </div>
                                </div>
                                <form id="emailForm" class="mt-3 d-none">
                                    <div class="row mb-4">
                                        <div class="col-lg-6 mb-4">
                                            <label for="userNewEmail" class="form-label fs-6">Enter New Email Address</label>
                                            <input type="text" class="form-control" id="userNewEmail">
                                        </div>
                                        <div class="col-lg-6 mb-4">
                                            <label for="userConfirmPassword" class="form-label fs-6">Confirm Password</label>
                                            <input type="text" class="form-control" id="userConfirmPassword">
                                        </div>
                                        <div class="d-flex">
                                            <button class="btn btn-label-primary me-2">Update Email</button>
                                            <button class="btn btn-label-secondary" id="emailCancelBtn">Cancel</button>
                                        </div>
                                    </div>
                                </form>
                                <hr>
                                <div class="d-flex align-items-center justify-content-between" id="passwordInfo">
                                    <div>
                                        <h6 class="mb-1 fw-semibold">Password</h6>
                                        <p class="text-muted">············</p>
                                    </div>
                                    <div>
                                        <button class="btn btn-label-secondary" id="changePasswordBtn">Change Password</button>
                                    </div>
                                </div>
                                <form id="passwordForm" class="mt-3 d-none">
                                    <div class="row mb-4">
                                        <div class="col-lg-4">
                                            <label for="userNewEmail" class="form-label fs-6">Current Password</label>
                                            <input type="text" class="form-control" id="userNewEmail">
                                        </div>
                                        <div class="col-lg-4">
                                            <label for="userConfirmPassword" class="form-label fs-6">New Password</label>
                                            <input type="text" class="form-control" id="userConfirmPassword">
                                        </div>
                                        <div class="col-lg-4">
                                            <label for="userConfirmPassword" class="form-label fs-6">Confirm New Password</label>
                                            <input type="text" class="form-control" id="userConfirmPassword">
                                        </div>
                                        <div class="form-text mb-4">Password must be at least 8 character and contain symbols.</div>
                                        <div class="d-flex">
                                            <button class="btn btn-label-primary me-2">Update Password</button>
                                            <button class="btn btn-label-secondary" id="passwordCancelBtn">Cancel</button>
                                        </div>
                                    </div>
                                </form>
                                <div class="alert alert-info d-flex mt-4" role="alert">
                                    <span class="me-2">
                                        <i class='bx bxs-check-shield fs-1'></i>
                                    </span>
                                    <div class="d-flex flex-column ps-1 text-black">
                                        <h5 class="alert-heading d-flex align-items-center fw-bold mb-1">Secure Your Account</h5>
                                        <div class="d-flex align-items-center justify-content-between">
                                            <span class="text-secondary">Two-factor authentication adds an extra layer of security to your account. To log in, in addition you'll need to provide a 6 digit code</span>
                                            <button class="btn btn-info">Enable</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="profileDetails" role="tabpanel">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Profile Details</h4>
                                <hr>
                                {{ form_start(form, {'attr': {novalidate: 'novalidate'}}) }}
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6">Avatar</label>
                                    <div class="col-lg-8">
                                        {{ form_widget(form.imageFile) }}
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6">Username</label>
                                    <div class="col-lg-8">
                                        {{ form_widget(form.username) }}
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6">Full Name *</label>
                                    <div class="col-lg-4">
                                        <label>
                                            {{ form_widget(form.firstName, {'attr': {'value': app.user.firstName}}) }}
                                        </label>
                                    </div>
                                    <div class="col-lg-4">
                                        <label>
                                            {{ form_widget(form.lastName, {'attr': {'value': app.user.lastName}}) }}
                                        </label>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6" for="contactPhone">Contact Phone *</label>
                                    <div class="col-lg-8">
                                        {{ form_widget(form.phoneNumber, {'attr': {'value': app.user.phoneNumber}}) }}
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6" for="gender">Birth Date *</label>
                                    <div class="col-lg-8">
                                        {{ form_widget(form.dateOfBirth, {'attr': {'value': app.user.dateOfBirth|date('Y-m-d')}}) }}
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6" for="gender">Gender *</label>
                                    <div class="col-lg-8">
                                        {{ form_widget(form.gender, {'attr': {'selected': app.user.gender}}) }}
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6" for="addressLine">Address Line *</label>
                                    <div class="col-lg-8">
                                        <input type="text" class="form-control" id="addressLine" value="{{ app.user.address.street }}">
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6">City *</label>
                                    <div class="col-lg-5">
                                        <input type="text" class="form-control" value="{{ app.user.address.city }}">
                                    </div>
                                    <div class="col-lg-3">
                                        <input type="text" class="form-control" value="{{ app.user.address.zipCode }}">
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label class="col-lg-4 col-form-label fw-semibold fs-6">Communication *</label>
                                    <div class="col-lg-8">
                                        <div class="d-flex align-items-center gap-3">
                                            <label class="form-label fw-semibold">
                                                <input type="checkbox" class="form-check-input me-2">
                                                Email
                                            </label>
                                            <label class="form-label fw-semibold">
                                                <input type="checkbox" class="form-check-input me-2">
                                                Phone
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <input type="hidden" name="user[_token]" id="user_csrfToken" value="{{ csrf_token('user_csrfToken') }}">

                                <hr>
                                <div class="d-flex justify-content-end">
                                    <button class="btn btn-label-secondary">Discard</button>
                                    <button type="submit" class="btn btn-label-primary ms-2">Save Changes</button>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="connectedAccounts" role="tabpanel">
                        <div class="d-flex mb-3 gap-3">
                            <div>
                                    <span class="badge bg-label-primary rounded-2">
                                    <i class="bx bx-box bx-md"></i>
                                    </span>
                            </div>
                            <div>
                                <h4 class="mb-0">
                                    <span class="align-middle">My Orders</span>
                                </h4>
                                <span>Order details</span>
                            </div>
                        </div>
                        <div id="accordionOrders" class="accordion">
                            <div class="card accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" aria-expanded="true" data-bs-target="#accordionOrders-1" aria-controls="accordionOrders-1">
                                        Has my order been successful?
                                    </button>
                                </h2>

                                <div id="accordionOrders-1" class="accordion-collapse collapse show">
                                    <div class="accordion-body">
                                        <p>
                                            All successful order transactions will receive an order
                                            confirmation email once the order has been processed. If you
                                            have not received your order confirmation email within 24
                                            hours, check your junk email or spam folder.
                                        </p>
                                        <p class="mb-0">
                                            Alternatively, log in to your account to check your order
                                            summary. If you do not have a account, you can contact our
                                            Customer Care Team on <strong>1-000-000-000</strong>.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="card accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordionOrders-2" aria-controls="accordionOrders-2">
                                        My Promotion Code is not working, what can I do?
                                    </button>
                                </h2>
                                <div id="accordionOrders-2" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        If you are having issues with a promotion code, please contact
                                        us at <strong>1 000 000 000</strong> for assistance.
                                    </div>
                                </div>
                            </div>

                            <div class="card accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordionOrders-3" aria-controls="accordionOrders-3">
                                        How do I track my Orders?
                                    </button>
                                </h2>
                                <div id="accordionOrders-3" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        <p>
                                            If you have an account just sign into your account from
                                            <a href="javascript:void(0);">here</a> and select <strong>“My Orders”</strong>.
                                        </p>
                                        <p class="mb-0">
                                            If you have a a guest account track your order from
                                            <a href="javascript:void(0);">here</a> using the order number and the email
                                            address.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="notifications" role="tabpanel">
                        <div class="d-flex mb-3 gap-3">
                            <div>
                                <span class="badge bg-label-primary rounded-2">
                                  <i class="bx bx-camera bx-md"></i>
                                </span>
                            </div>
                            <div>
                                <h4 class="mb-0">
                                    <span class="align-middle">Product &amp; Services</span>
                                </h4>
                                <span>Get help with product &amp; services</span>
                            </div>
                        </div>
                        <div id="accordionProduct" class="accordion">
                            <div class="card accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" aria-expanded="true" data-bs-target="#accordionProduct-1"
                                            aria-controls="accordionProduct-1">
                                        Will I be notified once my order has shipped?
                                    </button>
                                </h2>

                                <div id="accordionProduct-1" class="accordion-collapse collapse show">
                                    <div class="accordion-body">
                                        Yes, We will send you an email once your order has been shipped.
                                        This email will contain tracking and order information.
                                    </div>
                                </div>
                            </div>

                            <div class="card accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordionProduct-2" aria-controls="accordionProduct-2">
                                        Where can I find warranty information?
                                    </button>
                                </h2>
                                <div id="accordionProduct-2" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        We are committed to quality products. For information on
                                        warranty period and warranty services, visit our Warranty
                                        section <a href="javascript:void(0);">here</a>.
                                    </div>
                                </div>
                            </div>

                            <div class="card accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordionProduct-3" aria-controls="accordionProduct-3">
                                        How can I purchase additional warranty coverage?
                                    </button>
                                </h2>
                                <div id="accordionProduct-3" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        For the peace of your mind, we offer extended warranty plans
                                        that add additional year(s) of protection to the standard
                                        manufacturer’s warranty provided by us. To purchase or find out
                                        more about the extended warranty program, visit Extended
                                        Warranty section <a href="javascript:void(0);">here</a>.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /FAQ's -->
        </div>
    </div>

    {% for flashMessage in app.flashes('success') %}
        {{ component('Toast', {
            heading: 'Success',
            type: 'success',
            message: flashMessage
        }) }}
    {% endfor %}
{% endblock %}